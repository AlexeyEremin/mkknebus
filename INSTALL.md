# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ MKKNebus

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Laravel**, **Docker**, **Swagger** –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –æ–∫—Ä—É–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `entrypoint.sh`.

---

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- [Docker](https://www.docker.com/) ‚Äî –≤–µ—Ä—Å–∏—è 20.x –∏ –≤—ã—à–µ  
- [Docker Compose](https://docs.docker.com/compose/) ‚Äî –≤–µ—Ä—Å–∏—è 1.29 –∏ –≤—ã—à–µ  
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –û–°:
  - Linux
  - macOS
  - Windows —Å WSL2

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/AlexeyEremin/mkknebus.git
cd mkknebus
```

### 2. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
docker compose up -d --build
```

–í –ø—Ä–æ—Ü–µ—Å—Å–µ:

- –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `.env`, —Å–æ–∑–¥–∞—ë—Ç—Å—è –∫–æ–ø–∏—è –∏–∑ `.env.example`
- –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `composer install`
- –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è `APP_KEY`
- –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–∏–¥–µ—Ä—ã (`php artisan migrate --seed`)

---

## üóÉ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `docker/entrypoint.sh` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –∫–ª—é—á–∞ –∏ –º–∏–≥—Ä–∞—Ü–∏–π
- `app/` ‚Äî –∫–æ–¥ Laravel
- `database/seeders/` ‚Äî —Å–∏–¥–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `config/l5-swagger.php` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Swagger UI
- `public/` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞

–ü–µ—Ä–µ–π–¥–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
http://localhost:8080
```

–ï—Å–ª–∏ –ø–æ—Ä—Ç –≤ `docker-compose.yml` –¥—Ä—É–≥–æ–π, –∏—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ:

```
http://localhost:<–≤–∞—à_–ø–æ—Ä—Ç>
```

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API –∑–∞—â–∏—â–µ–Ω—ã Bearer Token. –ü—Ä–∏–º–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞:

```
Authorization: Bearer <your_token>
```

---

## üìö Swagger API-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:8080/api/documentation
```

–ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:

```bash
php artisan l5-swagger:generate
```

---

## üõ† –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Composer –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker compose exec app composer install
```

### Artisan: –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–∏–¥–µ—Ä—ã

```bash
docker compose exec app php artisan migrate --seed
```

### –°–±—Ä–æ—Å –±–∞–∑—ã –∏ —Å–∏–¥–µ—Ä—ã

```bash
docker compose exec app php artisan migrate:fresh --seed
```

---

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü–æ—Ä—Ç 3306 –∑–∞–Ω—è—Ç

**–û—à–∏–±–∫–∞:**

```
Ports are not available: exposing port 3306
```

**–†–µ—à–µ–Ω–∏–µ:**

- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π MySQL: `sudo service mysql stop`
- –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç MySQL –≤ `docker-compose.yml`

---

### –û—à–∏–±–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ `entrypoint.sh`

**–û—à–∏–±–∫–∞:**

```
permission denied: ./entrypoint.sh
```

**–†–µ—à–µ–Ω–∏–µ:**

```bash
chmod +x docker/entrypoint.sh
```

---

## üßπ –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

```bash
docker compose down -v
```

–£–¥–∞–ª–∏—Ç—å –≤—Å—ë (–≤–∫–ª—é—á–∞—è –∫—ç—à, —Ç–æ–º–∞ –∏ –æ–±—Ä–∞–∑—ã):

```bash
docker system prune -a
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ç—ã –ø–æ–ª—É—á–∏—à—å:

- Laravel-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –≥–æ—Ç–æ–≤–æ–π –±–∞–∑–æ–π
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –ü–æ–¥–¥–µ—Ä–∂–∫—É Bearer-—Ç–æ–∫–µ–Ω–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç
